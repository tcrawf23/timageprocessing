<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Timage Processing</title>
    <link rel="icon" href="favicon.png">
    <style type="text/css">
        body {
            background-color: #F1F1F1;
            margin: 0px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-width: 400px;
        }

        #top-nav {
            background-color: rgba(255, 255, 255, 0.96);
            height: 49px;
            position: fixed;
            width: 100%;
            top: 0px;
        }

        #top-nav ul {
            margin: 0;
            padding: 0;
            display: inline-block;
            width: 100%;
            text-align: center
        }

        #top-nav ul li {
            display: inline-block;
            color: #777;
            font-size: 14px;
            line-height: 3.5;
            padding-left: 6px;
            padding-right: 6px;
            cursor: pointer;
        }

        #top-nav ul li.selected {
            line-height: 3.1;
            color: #333;
            border-bottom-color: #82C925;
            border-bottom-style: solid;
            border-bottom-width: 3px;
            font-weight: 500;
        }

        #top-nav>img {
            padding: 5px;
            display: none;
            position: fixed;
            right: 15px;
            top: 12px;
            cursor: pointer;
        }

        #hamburger ul {
            margin: 0;
            padding: 0;
            display: inline-block;
            width: 100%;
        }

        #hamburger ul li {
            display: inline-block;
            color: #777;
            font-size: 14px;
            line-height: 3.5;
            padding-left: 15px;
            cursor: pointer;
        }

        #hamburger ul li.selected {
            line-height: 3.1;
            color: #333;
            border-left-color: #82C925;
            border-left-style: solid;
            border-left-width: 3px;
            font-weight: 500;
        }

        #main-page {
            margin-top: 90px;
        }

        #image {
            box-sizing: border-box;
            background-color: white;
            padding: 20px;
            max-width: 100%;
            max-height: 610px;
        }

        .content {
            display: none;
        }

        .content.active {
            display: block;
            margin: 40px auto;
            max-width: 650px;
            line-height: 1.7;
            font-size: 16px;
            color: #555;
            padding: 0 10px;
        }

        .hidden {
            display: none;
        }

        .displayed {
            display: none;
        }

        button {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #82C925;
            border: none;
            border-radius: 2px;
            color: white;
            font-size: 16px;
            height: 48px;
            padding: 0 24px;
            text-decoration: none;
            text-transform: uppercase;
            cursor: pointer;
        }

        button:hover {
            background-color: #6B9933;
        }

        h1,
        h2,
        h3 {
            line-height: 1.2
        }

        a {
            color: #00ABEC
        }

        @media (max-width: 750px) {
            #top-nav ul {
                display: none;
            }
            #top-nav>img {
                display: initial;
            }
            .displayed {
                display: initial;
            }
            #image {
                padding: 2.67%;
            }
        }
    </style>
</head>

<body>
    <div id="top-nav">
        <div style="position:absolute">
            <img src="favicon.png" height="32" style="padding-top: 7px;padding-left: 20px;display: inline-block;">
            <div id="title" style="display: inline-block;vertical-align: top;color: #888;font-size: 18px;line-height:2.6;padding-left: 10px;">
                <strong style="color: #333;font-weight: 600">timage</strong>processing</div>
        </div>
        <ul>
            <li id="k-means-top" rel="k-means" class="selected">K-Means</li>
            <li id="texture-synthesis-top" rel="texture-synthesis">Texture Synthesis</li>
            <li id="edge-detection-top" rel="edge-detection">Edge Detection</li>
        </ul>
        <img src="hamburger.png" rel="hamburger" height="15">
        <div style="position: fixed; top: 49px; height: 1px; width: 100%; background-color: rgba(0,0,0,0.04)"></div>
    </div>
    <div id="hamburger" class="hidden" style="position: fixed; height: 100%; width: 249px; background-color: rgba(255,255,255,0.96); right: 0px; top: 49px">
        <ul>
            <li id="k-means-ham" rel="k-means" class="selected">K-Means</li><br/>
            <li id="texture-synthesis-ham" rel="texture-synthesis">Texture Synthesis</li><br/>
            <li id="edge-detection-ham" rel="edge-detection">Edge Detection</li>
        </ul>
    </div>
    <div id="hamburger-shadow" class="hidden" style="position: fixed; top: 49px; right: 249px; height: 100%; width: 1px; background-color: rgba(0,0,0,0.04)"></div>
    <div id="main-page">
        <div id="k-means" class="content active">
            <header style="text-align: center">
                <h1>Welcome to Timage Processing</h1>
            </header>
            <div style="text-align: center; line-height: 0">
                <img id="image" src="aurora.jpg" />
            </div>
            <div style="text-align: center; margin-top: 20px">
                <button id="file-chooser-button">Choose Image</button>
                <input type="file" id="file-chooser" accept=".jpeg,.jpg,.png" style="display: none">
            </div>
            <div style="height: 1px; background-color: #DDD; margin-top: 25px; margin-left: 15px; margin-right: 15px;"></div>
            <p>This site is currently under construction, but trust me, when it's finally finished, you'll probably be underwhelmed.
                As a pre-apology, please enjoy these humorous and/or adorable videos:</p>
            <ul>
                <li><a href="https://www.youtube.com/watch?v=lsTLUSMOgas">https://www.youtube.com/watch?v=lsTLUSMOgas</a></li>
                <li><a href="https://www.youtube.com/watch?v=bq7FJzMc9tg">https://www.youtube.com/watch?v=bq7FJzMc9tg</a></li>
                <li><a href="https://www.youtube.com/watch?v=nGeKSiCQkPw">https://www.youtube.com/watch?v=nGeKSiCQkPw</a></li>
                <li><a href="https://www.youtube.com/watch?v=_OBlgSz8sSM">https://www.youtube.com/watch?v=_OBlgSz8sSM</a></li>
                <li><a href="https://www.youtube.com/watch?v=grp6sQ3yExU">https://www.youtube.com/watch?v=grp6sQ3yExU</a></li>
            </ul>
            <h2>What Will This Site Do?</h2>
            <p>Great question!</p>
            <h2>What Can I Do In The Meantime?</h2>
            <p>Honestly, that's completely up to you and the limits of physics. If I were you, I'd probably post some inspirational
                quotes on Instagram, binge watch the newest Netflix-original series, down a pint of Ben &amp; Jerry's The
                Tonight Dough, and then, well, you know...</p>
            <blockquote>"Never put off until tomorrow what you can do the day after tomorrow."
                <br> - Mark Twain</blockquote>
        </div>

        <div id="texture-synthesis" class="content">
            <header>
                <h1>Congratulations!</h1>

            </header>
            <p>You clicked on the <strong>Texture Synthesis</strong> tab! You should feel proud of your accomplishments. In
                fact, I think some CanAm pizza is the only appropriate way to reward yourself for this. In fact, the number
                is
                <strong style="font-weight: 500;">(425) 747-7777</strong>, that way you don't have to waste precious seconds
                looking it up. You're welcome.</p>
        </div>

        <div id="edge-detection" class="content">
            <header>
                <h1>Wanna See Something Cool?</h1>

            </header>
            <p>Go ahead, click on the button...you know you want to.</p>
            <button id="test">Click Me!</button>
        </div>
    </div>
</body>

<script src="jquery.js"></script>
<script>
    //switches tabs
    $(function () {
        $('ul li').on('click', function () {
            //figure out which content to show
            var panelToShow = $(this).attr('rel');

            //hide the current content and deselect the tab
            $('.content.active').removeClass('active');
            $('#top-nav ul li.selected').removeClass();
            $('#hamburger ul li.selected').removeClass();

            //show the new content and select the tab
            $('#' + panelToShow).addClass('active');
            document.getElementById(panelToShow + "-top").className = "selected";
            document.getElementById(panelToShow + "-ham").className = "selected";
        });
    });

    //opens hamburger menu
    $(function () {
        $('#top-nav>img').on('click', function () {
            if (document.getElementById("hamburger").className == "hidden") {
                $('#hamburger').removeClass('hidden');
                $('#hamburger').addClass('displayed');
                $('#hamburger-shadow').removeClass('hidden');
                $('#hamburger-shadow').addClass('displayed');
            }
            else {
                $('#hamburger').removeClass('displayed');
                $('#hamburger').addClass('hidden');
                $('#hamburger-shadow').removeClass('displayed');
                $('#hamburger-shadow').addClass('hidden');
            }
        });
    });

    //api call
    $(function () {
        $('#test').on('click', function () {
            $.get('https://timageprocessingapi.azurewebsites.net/contacts/', function (data) {
                //$.get('http://localhost:64279/contacts/', function (data) {
                var contacts = "";
                $.each(data, function (i, item) {
                    contacts += item.Id + ": " + item.Name + ", " + item.EmailAddress + "\n";
                });
                alert(contacts.substring(0, contacts.length - 1));
            });
        });
    });

    //open up file explorer to choose image
    $("#file-chooser-button").click(function (e) {
        e.preventDefault();
        $("#file-chooser").trigger('click');
    });

    //display the chosen image
    $("#file-chooser").change(function () {
        if (this.files && this.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#image').attr('src', e.target.result);
            };

            reader.readAsDataURL(this.files[0]);


            //-----------------------------
            /*var base64EncodedStr = btoa(unescape(encodeURIComponent(this.files[0])));
            alert(base64EncodedStr);*/

            $.post({
                url: 'https://timageprocessingapi.azurewebsites.net/contacts/',
                //url: 'http://localhost:64279/contacts/',
                data: 'this message is backwards',
                success: function (response) {
                    alert(response);
                }
            });
        }
    });

    //closes the hamburger if the window resizes to larger than 750px
    window.onresize = function () {
        if (window.innerWidth > 750) {
            $('#hamburger').removeClass('displayed');
            $('#hamburger').addClass('hidden');
            $('#hamburger-shadow').removeClass('displayed');
            $('#hamburger-shadow').addClass('hidden');
        }
    }

</script>

</html>